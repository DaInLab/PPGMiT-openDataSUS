---
title: "COVID-19 Óbitos"
output: 
  flexdashboard::flex_dashboard:
    orientation: columns
    vertical_layout: fill
    horizontal_layout: fill
    navbar:
      - { title: "Sobre", href: "https://example.com/about" }
    source_code: "https://github.com/user/repo"  
runtime: shyni    
---
<style type="text/css">
.value-box .value {
    color: white;
}
.value-box .caption {
    color: white;
    font: 10;
}
</style>


```{r setup, include=FALSE}
knitr::opts_chunk$set("'D:/GoogleDrive/Mestrado_unesp/PPGMiT-openDataSUS'") 

# Diretorio da Trabalho
setwd('D:/GoogleDrive/Mestrado_unesp/PPGMiT-openDataSUS')

# Carregando as bibliotecas necessárias
if (!("ggplot2") %in% installed.packages()) install.packages("ggplot2")   
if (!("dplyr") %in% installed.packages()) install.packages("dplyr")
if (!("readr") %in% installed.packages()) install.packages("readr")
if (!("geobr") %in% installed.packages()) install.packages("geobr")
if (!("scales") %in% installed.packages()) install.packages("scales")
if (!("ggspatial") %in% installed.packages()) install.packages("ggspatial")

library(ggplot2) # Visualizacao dos dados
library(dplyr)   # Preparacao de dados
library(readr)   # Importacao dos dadoslibrary(geobr)   # Mapa do Brasil
library(scales)
library(ggspatial)
library(flexdashboard)

# Importacao dos arquivos anuais : INFLUD* 2021, 2022 e 2023 (2.351.198)
df_opendatasus<-list.files(path="./dados",pattern="*.csv", full.names = TRUE) %>%
  lapply(read.csv,stringsAsFactors=F, sep=';') %>%
  bind_rows

```

Visão Geral
===

Column {data-height=200; data-width=180}
------

### Numero Notificações {.no-title}

```{r}
num_notificacoes <- as.numeric(count(df_opendatasus))
valueBox(format(num_notificacoes, big.mark = ".") , caption = "Numero Notificações", color="black")

```


### Obitos {.no-title}

```{r}
gauge(55, min = 0, max = 100, symbol = '%', label="Obitos %", gaugeSectors(
  success = c(0, 39), warning = c(40, 79), danger = c(80, 100)))

```

### Óbitos Outras Doenças {.no-title}

```{r}
gauge(13, min = 0, max = 100, symbol = '%', label="Óbitos Outras Doenças",gaugeSectors(
  success = c(0, 39), warning = c(40, 79), danger = c(80, 100)))

```

### Cura {.no-title}

```{r}
gauge(30, min = 0, max = 100, symbol = '%', label="Cura %", gaugeSectors(
  success = c(0, 39), warning = c(40, 79), danger = c(80, 100)))

```


### Sem Informação {.no-title}

```{r}
gauge(2, min = 0, max = 100, symbol = '%', label= "Sem Informação", gaugeSectors(
  success = c(0, 39), warning = c(40, 79), danger = c(80, 100)))

```

Column {.tabset}
---
### Mapa Óbitos Brasil

```{r}

```

### Fatores de Risco 

```{r}

```

### Sinais e Sintomas

```{r}

```

### Idade

```{r}

```

### Sexo

```{r}

```

### Escolaridade

```{r}

```


Column {data-height=200; data-width=250}
------

### {.no-title}

```{r}
valueBox(1507, caption = "Numero Óbitos", color="red")

```

### {.no-title}

```{r}
valueBox('Diabetes Mellitus', caption = "Principal Fator de Risco - Óbitos", color="brown")

```


### {.no-title}

```{r}
valueBox('Dor de Garganta', caption = "Principal Sinal ou Sintoma - Óbitos", color="orange")

```

### {.no-title}

```{r}
valueBox(46.5, caption = "Média Idade Óbitos", color="blue")

```

### {.no-title}

```{r}
valueBox('Masculino', caption = "Sexo", color="gray")

```

### {.no-title}

```{r}
valueBox('Superior', caption = "Escolaridade", color="gray")

```


2021
===

Column {data-height=200; data-width=180}
------

### Numero Notificações {.no-title}

```{r}
valueBox(2021, caption = "Numero Notificações", color="black")

```


### Obitos {.no-title}

```{r}
gauge(55, min = 0, max = 100, symbol = '%', label="Obitos %", gaugeSectors(
  success = c(0, 39), warning = c(40, 79), danger = c(80, 100)))

```

### Óbitos Outras Doenças {.no-title}

```{r}
gauge(13, min = 0, max = 100, symbol = '%', label="Óbitos Outras Doenças",gaugeSectors(
  success = c(0, 39), warning = c(40, 79), danger = c(80, 100)))

```

### Cura {.no-title}

```{r}
gauge(30, min = 0, max = 100, symbol = '%', label="Cura %", gaugeSectors(
  success = c(0, 39), warning = c(40, 79), danger = c(80, 100)))

```


### Sem Informação {.no-title}

```{r}
gauge(2, min = 0, max = 100, symbol = '%', label= "Sem Informação", gaugeSectors(
  success = c(0, 39), warning = c(40, 79), danger = c(80, 100)))

```

Column {.tabset}
---
### Mapa Óbitos Brasil

```{r}

```

### Fatores de Risco 

```{r}

```

### Sinais e Sintomas

```{r}

```

### Idade

```{r}

```

### Sexo

```{r}

```

### Escolaridade

```{r}

```


Column {data-height=200; data-width=250}
------

### {.no-title}

```{r}
valueBox(1007, caption = "Numero Óbitos", color="red")

```

### {.no-title}

```{r}
valueBox('Diabetes Mellitus', caption = "Principal Fator de Risco - Óbitos", color="brown")

```


### {.no-title}

```{r}
valueBox('Dor de Garganta', caption = "Principal Sinal ou Sintoma - Óbitos", color="orange")

```

### {.no-title}

```{r}
valueBox(46.5, caption = "Média Idade Óbitos", color="blue")

```

### {.no-title}

```{r}
valueBox('Masculino', caption = "Sexo", color="gray")

```

### {.no-title}

```{r}
valueBox('Superior', caption = "Escolaridade", color="gray")

```

2022
===

Column {data-height=200; data-width=180}
------

### Numero Notificações {.no-title}

```{r}
valueBox(2022, caption = "Numero Notificações", color="black")

```


### Obitos {.no-title}

```{r}
gauge(55, min = 0, max = 100, symbol = '%', label="Obitos %", gaugeSectors(
  success = c(0, 39), warning = c(40, 79), danger = c(80, 100)))

```

### Óbitos Outras Doenças {.no-title}

```{r}
gauge(13, min = 0, max = 100, symbol = '%', label="Óbitos Outras Doenças",gaugeSectors(
  success = c(0, 39), warning = c(40, 79), danger = c(80, 100)))

```

### Cura {.no-title}

```{r}
gauge(30, min = 0, max = 100, symbol = '%', label="Cura %", gaugeSectors(
  success = c(0, 39), warning = c(40, 79), danger = c(80, 100)))

```


### Sem Informação {.no-title}

```{r}
gauge(2, min = 0, max = 100, symbol = '%', label= "Sem Informação", gaugeSectors(
  success = c(0, 39), warning = c(40, 79), danger = c(80, 100)))

```

Column {.tabset}
---
### Mapa Óbitos Brasil

```{r}

```

### Fatores de Risco 

```{r}

```

### Sinais e Sintomas

```{r}

```

### Idade

```{r}

```

### Sexo

```{r}

```

### Escolaridade

```{r}

```


Column {data-height=200; data-width=250}
------

### {.no-title}

```{r}
valueBox(150007, caption = "Numero Óbitos", color="red")

```

### {.no-title}

```{r}
valueBox('Diabetes Mellitus', caption = "Principal Fator de Risco - Óbitos", color="brown")

```


### {.no-title}

```{r}
valueBox('Dor de Garganta', caption = "Principal Sinal ou Sintoma - Óbitos", color="orange")

```

### {.no-title}

```{r}
valueBox(46.5, caption = "Média Idade Óbitos", color="blue")

```

### {.no-title}

```{r}
valueBox('Masculino', caption = "Sexo", color="gray")

```

### {.no-title}

```{r}
valueBox('Superior', caption = "Escolaridade", color="gray")

```


2023
===

Column {data-height=200; data-width=180}
------

### Numero Notificações {.no-title}

```{r}
valueBox(2023, caption = "Numero Notificações", color="black")

```


### Obitos {.no-title}

```{r}
gauge(55, min = 0, max = 100, symbol = '%', label="Obitos %", gaugeSectors(
  success = c(0, 39), warning = c(40, 79), danger = c(80, 100)))

```

### Óbitos Outras Doenças {.no-title}

```{r}
gauge(13, min = 0, max = 100, symbol = '%', label="Óbitos Outras Doenças",gaugeSectors(
  success = c(0, 39), warning = c(40, 79), danger = c(80, 100)))

```

### Cura {.no-title}

```{r}
gauge(30, min = 0, max = 100, symbol = '%', label="Cura %", gaugeSectors(
  success = c(0, 39), warning = c(40, 79), danger = c(80, 100)))

```


### Sem Informação {.no-title}

```{r}
gauge(2, min = 0, max = 100, symbol = '%', label= "Sem Informação", gaugeSectors(
  success = c(0, 39), warning = c(40, 79), danger = c(80, 100)))

```

Column {.tabset}
---
### Mapa Óbitos Brasil

```{r}

```

### Fatores de Risco 

```{r}

```

### Sinais e Sintomas

```{r}

```

### Idade

```{r}

```

### Sexo

```{r}

```

### Escolaridade

```{r}

```


Column {data-height=200; data-width=250}
------

### {.no-title}

```{r}
valueBox(150007, caption = "Numero Óbitos", color="red")

```

### {.no-title}

```{r}
valueBox('Diabetes Mellitus', caption = "Principal Fator de Risco - Óbitos", color="brown")

```


### {.no-title}

```{r}
valueBox('Dor de Garganta', caption = "Principal Sinal ou Sintoma - Óbitos", color="orange")

```

### {.no-title}

```{r}
valueBox(46.5, caption = "Média Idade Óbitos", color="blue")

```

### {.no-title}

```{r}
valueBox('Masculino', caption = "Sexo", color="gray")

```

### {.no-title}

```{r}
valueBox('Superior', caption = "Escolaridade", color="gray")

```